<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Dashboard</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
   
  </head>
  <style>
  .nav{
    margin-left: 120px;
  }
  
  </style>
{% block content %}

 {% if request.session.username %}
 <section id="content">

  {% include 'sidebar.html' %}
  <div class="nav" > 
        <ul class="nav justify-content-end">
            <li class="nav-item">
            <a class="nav-link" href="#"><b>Welcome @{{request.session.username}}</b></a>
            </li>
            <li class="nav-item">
            <a class="nav-link" href="logout"><b>Logout</b></a>
            </li>
        </ul>
    </div>
    <br><br>
 <div class="container">

        <div class="animated fadeIn">
          <div class="card">
            <div class="card-header">
              <i class="icon-envelope-open"></i> Contact
              <div class="card-actions">
            </div>
             <div class="modal fade" id="add_form">
   <div class="modal-dialog">
     <form class="no-margin" id="formValidate2" data-validate="parsley" method="post" action="signup" name="client_record" >
      {% csrf_token %}

    <div class="modal-content">
       <div class="modal-header">
         <h4 class="modal-title text-center">Add Contact</h4>

          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
       </div>

        <div class="modal-body">
<div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputEmail4">First Name</label>
      <input type="text" class="form-control" name="fname" id="inputEmail4">
    </div>
    <div class="form-group col-md-6">
      <label for="inputPassword4">Last Name</label>
      <input type="text" class="form-control" name="lname" id="inputPassword4">
    </div>
  </div>
 <div class="form-row">
  <div class="form-group col-md-6">
    <label for="name">Username</label>
    <input type="text" class="form-control" id="uname" name="uname" placeholder="Jingpong32">
  </div>
  <div class="form-group col-md-6">
    <label for="name">Number</label>
<div class="input-prepend input-group">
                          <span class="input-group-addon"><i class="fa fa-phone"></i></span>
                          <input id="sendto" class="form-control" name="number" maxlength="16" type="text" placeholder="Write Number Here!" list="listid" required="">
                      </div>  </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputEmail4">Email</label>
      <input type="email" class="form-control" name="email" id="inputEmail4">
    </div>
    <div class="form-group col-md-6">
      <label for="inputPassword4">Password</label>
      <input type="password" class="form-control" name="pass" id="inputPassword4">
    </div>
  </div>
  <div class="form-group">
    <label for="inputAddress">Address</label>
    <input type="text" class="form-control" id="inputAddress" name="add" placeholder="1234 Main St">
  </div>
  
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputCity">City</label>
      <input type="text" class="form-control" name="city" id="inputCity">
    </div>
   
    <div class="form-group col-md-6">
      <label for="inputZip">Pin</label>
      <input type="text" class="form-control" name="pin" maxlength="6" id="inputZip">
    </div>
  </div>  

       
          </div>
      <div class="modal-footer">

                  <button type="submit"  class="btn btn-danger btn-sm check">Submit</button>
         <button class="btn btn-sm btn-success" data-dismiss="modal" aria-hidden="true">Close</button>
         </div>

      </div>
     <!-- /.modal-content -->
              </form>

    </div>
    <!-- /.modal-dialog -->

  </div>

  <div class="modal fade" id="add_bulk">
   <div class="modal-dialog">
               <form class="no-margin" id="formValidate2" data-validate="parsley" method="post" action="import_clients.php" name="client_record" enctype="multipart/form-data">
     <div class="modal-content">
       <div class="modal-header">
         <h4 class="modal-title text-center">Imports Contact</h4>

          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
       </div>

        <div class="modal-body">
            <div class="form-group">
           <label class="control-label">Select File</label>
          <input type="file" name="file" class="form-control " required="">
           </div>

           </div>
        <div class="modal-footer">
                 <button type="submit" class="btn btn-danger btn-sm ">Submit</button>
         <button class="btn btn-sm btn-success" data-dismiss="modal" aria-hidden="true">Close</button>
          </div>

      </div>
     <!-- /.modal-content -->
               </form>

    </div>
    <!-- /.modal-dialog -->
  </div>

            </div>

            <div class="card-body">

         <div class="container">

<div class="row">
<div class="col-md-9">
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#add_form ">Add New Contact
</button>
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#add_bulk ">Import excel
</button>
<a href="upload/sample_contact.xlsx" download="" type="button" class="btn btn-success" data-toggle="" data-target="">Sample file
</a>
</div>
 <div class="col-md-3">
<a href="export_clients.php?year=&amp;month="><button type="button" value="Export Data" class="btn btn-primary btn-md" style="float:right"> Export Data</button>
</a>
</div>
</div>  <br>
</div>



<!-- <div class="row">



                <div class="col-sm-1 sent-message-form-column">

                    <a href="export_leads.php?year=&month="><button type="button" value="Export Data" class="btn btn-primary btn-md"> Export Data</button></a>

                  </div>

                  <br><br>



           </div>  -->

           <div style="overflow:auto">

              <div id="dataTable_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4 no-footer">
              <div class="row">
              <div class="col-sm-12 col-md-6">
              <div class="dataTables_length" id="dataTable_length">
              <label>Show <select name="dataTable_length" aria-controls="dataTable" class="form-control form-control-sm">
              <option value="10">10</option>
              <option value="25">25</option>
              <option value="50">50</option>
              <option value="100">100</option>
              </select> entries</label>
              </div>
              </div>
              <div class="col-sm-12 col-md-6">
              <div id="dataTable_filter" class="dataTables_filter">
              <label>Search:<input type="search" class="form-control form-control-sm" placeholder="" aria-controls="dataTable">
              </label></div></div></div>
              <div class="row">
              <div class="col-sm-12">
              <table class="table table-striped table-bordered datatable table-responsive-sm dataTable no-footer" id="dataTable" role="grid" aria-describedby="dataTable_info" style="border-collapse: collapse !important">

                <thead>

                  <tr role="row">
                  <th    style="width: 327px;">Mobile Number</th>
                  <th    style="width: 162px;">Name</th>
                  <th  style="width: 154px;">Email</th>
                  <th    style="width: 142px;">Username</th>
                  <th   style="width: 175px;">Action</th>
                  </tr>
                
                </thead>
                <tbody>    
                	{% for data in users %}            
                <tr class="odd">
                <td valign="top" >{{data.ph_number}}</td>
                <td valign="top" >{{data.f_name}} {{data.l_name}}</td>
                <td valign="top" >{{data.email}}</td>
                <td valign="top" >{{data.username}}</td>
                <td valign="top" ><button class="btn-small" name="edit" type="button">Edit</button></td>
                </tr>
                {% endfor %}
                </tbody>
              </table>
              </div>
              </div>
              <div class="row">
              <div class="col-sm-12 col-md-5">
              <div class="dataTables_info" id="dataTable_info" role="status" aria-live="polite">Showing 0 to 0 of 0 entries</div>
              </div>
              <div class="col-sm-12 col-md-7">
              <div class="dataTables_paginate paging_simple_numbers" id="dataTable_paginate">
              <ul class="pagination">
              <li class="paginate_button page-item previous disabled" id="dataTable_previous">
              <a href="#" aria-controls="dataTable" data-dt-idx="0" tabindex="0" class="page-link">Previous</a>
              </li><li class="paginate_button page-item next disabled" id="dataTable_next">
              <a href="#" aria-controls="dataTable" data-dt-idx="1" tabindex="0" class="page-link">Next</a>
              </li></ul></div></div></div></div>
</div>
            </div>
          </div>
        </div>

      </div>
  {% else %}
    <div style="margin-left:230px">
    <div class="nav" > 
    <ul class="nav justify-content-end">
    <li class="nav-item">
    <a class="nav-link" href="signin">Sign In</a>
    </li>
    <li class="nav-item">
    <a class="nav-link" href="signup">Sign Up</a>
    </li>
    </ul>
    </div>
    </div><br><br><br>
    <center><h1>Please Sign in to access Homepage</h1></center>

  {% endif %}
  
  

 </div>
  </section>  <!-- End #blog-posts -->

{% endblock %}
</html>

<script>
function w3_open() {
  document.getElementById("mySidebar").style.display = "block";
}

function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
}
</script>
